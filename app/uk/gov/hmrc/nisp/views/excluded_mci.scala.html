@*
 * Copyright 2023 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.nisp.models.Exclusion
@import uk.gov.hmrc.nisp.controllers.auth.ExcludedAuthenticatedRequest
@import uk.gov.hmrc.nisp.views.html.includes.newComponents.{P, H1, H2, Link}

@this(
  main: main,
  p: P,
  h1: H1,
  h2: H2,
  link: Link
)

@(exclusion: Exclusion,
statePensionAge: Option[Int])(
  implicit messages: Messages,
  request: ExcludedAuthenticatedRequest[_]
)

@main(
  pageTitle = messages("nisp.excluded.mci.title"),
) {

  @h1(
    elmId = Some("mainTitle"),
    msg = "nisp.excluded.mci.title",
    specId = Some("excluded_mci__h1")
  )

  @p(
    content = Text(messages("nisp.excluded.mci.info")),
    classes = Some("govuk-body-l"),
    specId = Some("excluded_mci__p_lede")
  )

  @h2(
    msg = "nisp.excluded.mci.howToFix",
    elmId = Some("howToFix"),
    specId = Some("excluded_mci__h2")
  )

  <ul class="govuk-list govuk-list--bullet" data-spec="excluded_mci__ul__how_to_fix">
    <li data-spec="excluded_mci__ul__how_to_fix__1">
      @messages("nisp.excluded.mci.howToFix.message1")
    </li>
    <li data-spec="excluded_mci__ul__how_to_fix__2">
      @messages("nisp.excluded.mci.howToFix.message2")
    </li>
    <li data-spec="excluded_mci__ul__how_to_fix__3">
      @messages("nisp.excluded.mci.howToFix.message3")
    </li>
  </ul>

  @p(
    content = Text(messages("nisp.excluded.mci.howToContact")),
    specId = Some("excluded_mci__p2")
  )

  <ul class="govuk-list govuk-list--bullet" data-spec="excluded_mci__ul__how_to_contact">
    <li data-spec="excluded_mci__ul__how_to_contact__1">
      @messages("nisp.excluded.mci.howToContact.weekdays")
    </li>
    <li data-spec="excluded_mci__ul__how_to_contact__2">
      @messages("nisp.excluded.mci.howToContact.saturday")
    </li>
    <li data-spec="excluded_mci__ul__how_to_contact__3">
      @messages("nisp.excluded.mci.howToContact.sunday")
    </li>
  </ul>

  @p(
    content = Text(messages("nisp.excluded.mci.howToContact.bankholiday")),
    specId = Some("excluded_mci__p3")
  )

  @if(messages.lang.code == "cy") {
    @link(
      link = "https://www.gov.uk/costau-galwadau",
      attrs = Map("data-journey-click" -> "checkyourstatepension:external:callcharges"),
      attrTarget = true,
      inParagraph = false,
      messageKey = "nisp.excluded.mci.howToContact.link",
      specId = Some("excluded_mci__link1")
    )
  } else {
    @link(
      link = "https://www.gov.uk/call-charges",
      attrs = Map("data-journey-click" -> "checkyourstatepension:external:callcharges"),
      attrTarget = true,
      inParagraph = false,
      messageKey = "nisp.excluded.mci.howToContact.link",
      specId = Some("excluded_mci__link1")
    )
  }
}
